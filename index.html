<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SwitchBox Pro - Universal File Converter</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="app-container">
        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen hidden">
            <div class="loading-content">
                <div class="loading-logo">
                    <i class="fas fa-exchange-alt"></i>
                </div>
                <h2>SwitchBox Pro</h2>
                <div class="loading-spinner"></div>
                <p>Loading powerful conversion tools...</p>
            </div>
        </div>

        <!-- Intro Page -->
        <div id="intro-page" class="page">
            <div class="intro-content">
                <div class="logo-container">
                    <div class="logo">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <h1 class="main-title">SwitchBox Pro</h1>
                    <p class="subtitle">Universal File Converter</p>
            </div>

                <div class="features-grid">
                    <div class="feature">
                        <i class="fas fa-bolt"></i>
                        <h3>Lightning Fast</h3>
                        <p>Convert files instantly in your browser</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-shield-alt"></i>
                        <h3>100% Secure</h3>
                        <p>Files never leave your device</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-mobile-alt"></i>
                        <h3>Mobile Ready</h3>
                        <p>Works perfectly on all devices</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-infinity"></i>
                        <h3>Unlimited</h3>
                        <p>No file size or conversion limits</p>
                    </div>
                </div>

                <button class="primary-btn" onclick="showMainPage()">
                    <i class="fas fa-rocket"></i>
                    Start Converting
                </button>
            </div>
        </div>

        <!-- Main Page -->
        <div id="main-page" class="page hidden">
            <header class="app-header">
                <div class="header-content">
                    <div class="logo-small">
                        <i class="fas fa-exchange-alt"></i>
                        <span>SwitchBox Pro</span>
                    </div>
                    <div class="header-actions">
                        <button class="icon-btn" onclick="showSettings()" title="Settings">
                            <i class="fas fa-cog"></i>
                        </button>
                        <button class="icon-btn" onclick="showHelp()" title="Help">
                            <i class="fas fa-question-circle"></i>
                        </button>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <!-- Conversion Categories -->
                <div class="category-tabs">
                    <button class="category-tab active" data-category="documents">
                        <i class="fas fa-file-alt"></i>
                        Documents
                    </button>
                    <button class="category-tab" data-category="images">
                        <i class="fas fa-image"></i>
                        Images
                    </button>
                    <button class="category-tab" data-category="audio">
                        <i class="fas fa-music"></i>
                        Audio
                    </button>
                    <button class="category-tab" data-category="video">
                        <i class="fas fa-video"></i>
                        Video
                    </button>
                    <button class="category-tab" data-category="data">
                        <i class="fas fa-table"></i>
                        Data
                    </button>
                    <button class="category-tab" data-category="web">
                        <i class="fas fa-globe"></i>
                        Web
                    </button>
                </div>

                <!-- Conversion Grid -->
                <div class="conversion-grid" id="conversion-grid">
                    <!-- Dynamically populated -->
                </div>

                <!-- File Upload Section -->
                <div class="upload-section" id="upload-section">
                    <div class="upload-area" id="upload-area">
                        <div class="upload-content">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <h3>Drop files here or click to upload</h3>
                            <p id="file-type-hint">Select a conversion type first</p>
                            <input type="file" id="file-input" multiple>
                            <button class="upload-btn" onclick="document.getElementById('file-input').click()">
                                Choose Files
                            </button>
                        </div>
            </div>

                    <div class="file-list" id="file-list">
                        <!-- File items will be added here -->
                    </div>

                    <div class="conversion-options">
                        <div class="option-group">
                            <label>Quality:</label>
                            <select id="quality-select">
                                <option value="high">High</option>
                                <option value="medium" selected>Medium</option>
                                <option value="low">Low</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label>Format:</label>
                            <select id="format-select">
                                <!-- Dynamically populated -->
                            </select>
                        </div>
                    </div>

                    <button class="convert-btn" id="convert-btn" onclick="startConversion()" disabled>
                        <i class="fas fa-magic"></i>
                        Convert Files
                    </button>
                </div>

                <!-- Text Input Section -->
                <div class="text-input-section hidden" id="text-input-section">
                    <div class="text-input-container">
                        <div class="text-input-header">
                            <h3>Text to PDF Converter</h3>
                            <div class="text-actions">
                                <button class="action-btn" onclick="clearText()">
                                    <i class="fas fa-trash"></i>
                                    Clear
                                </button>
                                <button class="action-btn" onclick="pasteText()">
                                    <i class="fas fa-paste"></i>
                                    Paste
                                </button>
                            </div>
                        </div>
                        <textarea id="text-input" placeholder="Enter your text here..."></textarea>
                        <div class="text-stats">
                            <span id="word-count">0 words</span>
                            <span id="char-count">0 characters</span>
                        </div>
                        <button class="convert-btn" onclick="convertTextToPDF()">
                            <i class="fas fa-file-pdf"></i>
                            Create PDF
                        </button>
                    </div>
                </div>

                <!-- Progress Section -->
                <div class="progress-section hidden" id="progress-section">
                    <div class="progress-container">
                        <div class="progress-header">
                            <h3>Converting Files</h3>
                            <button class="cancel-btn" onclick="cancelConversion()">
                                <i class="fas fa-times"></i>
                                Cancel
                            </button>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <div class="progress-text" id="progress-text">Preparing conversion...</div>
                        <div class="progress-details" id="progress-details"></div>
                    </div>
                </div>

                <!-- Results Section -->
                <div class="results-section hidden" id="results-section">
                    <div class="results-header">
                        <h3>Conversion Complete</h3>
                        <button class="action-btn" onclick="clearResults()">
                            <i class="fas fa-trash"></i>
                            Clear
                        </button>
                    </div>
                    <div class="results-grid" id="results-grid">
                        <!-- Results will be added here -->
                    </div>
                </div>
            </main>
        </div>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Settings</h3>
                    <button class="close-btn" onclick="closeModal('settings-modal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="setting-group">
                        <label>Default Quality:</label>
                        <select id="default-quality">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label>Auto-download:</label>
                        <input type="checkbox" id="auto-download">
                    </div>
                    <div class="setting-group">
                        <label>Dark Mode:</label>
                        <input type="checkbox" id="dark-mode">
                    </div>
                </div>
            </div>
            </div>

        <!-- Help Modal -->
        <div id="help-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Help & Support</h3>
                    <button class="close-btn" onclick="closeModal('help-modal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="help-section">
                        <h4>How to use SwitchBox Pro:</h4>
                        <ol>
                            <li>Select a conversion category (Documents, Images, etc.)</li>
                            <li>Choose your desired conversion type</li>
                            <li>Upload your files or enter text</li>
                            <li>Adjust quality and format settings</li>
                            <li>Click Convert and download your files</li>
                        </ol>
                    </div>
                    <div class="help-section">
                        <h4>Supported Formats:</h4>
                        <div class="format-list">
                            <div><strong>Documents:</strong> PDF, DOC, DOCX, TXT, RTF, ODT</div>
                            <div><strong>Images:</strong> JPG, PNG, GIF, BMP, TIFF, WEBP, SVG</div>
                            <div><strong>Audio:</strong> MP3, WAV, FLAC, AAC, OGG, M4A</div>
                            <div><strong>Video:</strong> MP4, AVI, MOV, MKV, WMV, FLV</div>
                            <div><strong>Data:</strong> CSV, XLS, XLSX, JSON, XML</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.8.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.4.0/exceljs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.0/marked.min.js"></script>
    <script src="https://unpkg.com/tesseract.js@v2.1.0/dist/tesseract.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ffmpeg.js/0.12.7/ffmpeg.min.js"></script>
    
    <!-- App Scripts -->
    <script src="config.js"></script>
    <script src="converters.js"></script>
    <script src="app.js"></script>
</body>
</html>